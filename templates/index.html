<!DOCTYPE html>
<html>
<head>
    <title>Cinnamon Quality Predictor</title>
</head>
<body>
    <h1>Cinnamon Quality Predictor</h1>

    <form id="predictForm">
        <label>Moisture: <input type="number" step="any" id="Moisture" required></label><br>
        <label>Ash: <input type="number" step="any" id="Ash" required></label><br>
        <label>Volatile Oil: <input type="number" step="any" id="Volatile_Oil" required></label><br>
        <label>Acid Insoluble Ash: <input type="number" step="any" id="Acid_Insoluble_Ash" required></label><br>
        <label>Chromium: <input type="number" step="any" id="Chromium" required></label><br>
        <label>Coumarin: <input type="number" step="any" id="Coumarin" required></label><br><br>

        <button type="submit">Predict Quality</button>
    </form>

    <h2 id="result"></h2>

    <script>
        const form = document.getElementById('predictForm');
        const resultText = document.getElementById('result');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            const features = [
                parseFloat(document.getElementById('Moisture').value),
                parseFloat(document.getElementById('Ash').value),
                parseFloat(document.getElementById('Volatile_Oil').value),
                parseFloat(document.getElementById('Acid_Insoluble_Ash').value),
                parseFloat(document.getElementById('Chromium').value),
                parseFloat(document.getElementById('Coumarin').value)
            ];

            try {
                const response = await fetch('/predict', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ features })
                });

                const data = await response.json();
                if(data.prediction){
                    resultText.innerText = `Predicted Quality: ${data.prediction}`;
                } else {
                    resultText.innerText = `Error: ${data.error}`;
                }

            } catch (err) {
                resultText.innerText = 'Error calling API';
                console.error(err);
            }
        });
    </script>
</body>
</html>
